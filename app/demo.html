<!DOCTYPE html>

<html>

    <head>
        <title>PageDown Demo Page</title>
        
        <link rel="stylesheet" type="text/css" href="demo.css" />
        
        <script type="text/javascript" src="../Markdown.Converter.js"></script>
        <script type="text/javascript" src="../Markdown.Sanitizer.js"></script>
        <script type="text/javascript" src="../Markdown.Editor.js"></script>
        <script src="../resources/ace_net.js" charset="utf-8"></script>
    </head>
    
    <body>
    
        <div class="wmd-panel">
            <div id="wmd-button-bar-second"></div>
            <div class="wmd-input" id="wmd-input-second">
            </div>
        </div>
        <div id="wmd-preview-second" class="wmd-panel wmd-preview"></div>
        <script type="text/javascript">
            (function () {
                
                var converter2 = new Markdown.Converter();

                converter2.hooks.chain("preConversion", function (text) {
                    return text.replace(/\b(a\w*)/gi, "*$1*");
                });

                converter2.hooks.chain("plainLinkText", function (url) {
                    return "This is a link to " + url.replace(/^https?:\/\//, "");
                });
                
                var help = function () { alert("Do you need help?"); }
                var options = {
                    helpButton: { handler: help },
                    strings: { quoteexample: "whatever you're quoting, put it right here" }
                };
                var editor2 = new Markdown.Editor(converter2, "-second", options);
                
                var text2 = document.getElementById('wmd-input-second').innerHTML;
                var ace2 = ace.edit("wmd-input-second");
                ace2.setValue(text2, -1);
                editor2.run(ace2);
            })();
        </script>
    </body>
</html>
